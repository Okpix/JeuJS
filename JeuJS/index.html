<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <title>Jeu en JS</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
        <link href="style.css" rel="stylesheet" type="text/css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    </head>

    <body class="container">
        <header class="text-center">
            <br>
            <h1>Jeu de dé</h1>
            <br>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-lg" data-bs-toggle="modal" data-bs-target="#rulesModal">
                Règles du jeu !
            </button>
            <button class="btn btn-lg" id="game" onclick="start()">Nouvelle partie</button>
            <button type="button" class="btn btn-lg" data-bs-toggle="modal" data-bs-target="#playerName">Changer de pseudo</button>

              <!-- Modal -->
              <div class="modal fade" id="rulesModal" tabindex="-1" aria-labelledby="rulesModal" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="rulesModal">Règles</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Le jeu comprend 2 joueurs sur un seul et même écran.<br><br>
                        Chaque joueur possède un score temporaire (Current) et un score global (sous son pseudo).
                        À chaque tour, le joueur a son Current initialisé à 0 et peut lancer un dé autant de fois qu'il le souhaite. Le 
                        résultat d’un lancer est ajouté au Current. Le premier joueur qui atteint les 100 points sur global gagne le jeu.<br><br>
                        Lors de son tour, le joueur peut décider à tout moment de :<br><br>
                        - Cliquer sur l’option “Hold”, qui permet d’envoyer les points du CUrrent vers le GLOBAL. Ce sera alors le
                        tour de l’autre joueur.<br><br>
                        - Lancer le dé. S’il obtient un 1, son score Current est perdu et c’est la fin de son tour.
                        
                    </div>
                    <div class="modal-footer text-center">
                      <button type="button" class="btn text-center" data-bs-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
        </header>

        <br><br>

        <main class="container col-lg-12">
                <div class="row">
                    <div class="container col-lg-5 text-center playerbox" id="player1">
                        <h2  id="texte2"></h2>
                        <p><span id="scoreP1" class="score"></span></p>
                        <div class="container text-center bg-danger" id="currentPlayer1">
                            <p>Current</p>
                            <p id="current1" class="scoreC"></p>
                        </div>
                    </div>

                    <div class="container col-lg-2 text-center">
                        <p id="dede">dé</p>
                        <img />
                        <br><br>
                        <button class="btn btn-lg" id"roll" onclick="roll()">Lancer le dé</button>
                        <br><br>
                        <button class="btn btn-lg" id="hold" onclick="hold()">sécuriser !</button>
                        <br><br>
                    </div>

                    <div class="container col-lg-5 lock text-center playerbox" id="player2">
                        <h2 id="texte4"></h2>
                        <p><span id="scoreP2" class="score"></span></p>
                        <div class="container text-center bg-danger" id="currentPlayer2">
                            <p>Current</p>
                            <p id="current2" class="scoreC"></p>
                        </div>
                    </div>
                </div>
        </main>

        <!-- Modal -->
        <div class="modal fade" id="playerName" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-body">
                <form>
                    <div class="mb-3">
                      <label for="player1Pseudo" class="form-label">Pseudo player 1</label>
                      <input type="text" value="" id="texte1"/>
                    </div>
                    <div class="mb-3">
                        <label for="player1Pseudo" class="form-label">Pseudo player 2</label>
                        <input type="text" value="" id="texte3"/>
                    </div>
                </form> 
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="afficher()">Valider</button>  
              </div>
            </div>
          </div>
        </div>
        <hr>
        <footer class="text-center">
        <h3>© Alexandre Vinet, 2021, dans le cadre d'une formation.</h3>
        </footer>
        <script src="script.js"></script>
    </body>
</html>